(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[0],{39:function(e,t,c){},47:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),n=c(29),r=c.n(n),l=(c(39),c(10)),d=c(3),i=c(33),j=c(2),b=c(1),o=function(e){var t=Object(s.useState)(null),c=Object(d.a)(t,2),a=c[0],n=c[1],r=Object(j.f)();return Object(b.jsx)("section",{id:"posts",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h4",{children:"Latest Posts"})}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("table",{className:"table table-striped",children:[Object(b.jsx)("thead",{className:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"\xa0"}),Object(b.jsx)("th",{children:"Survey Template Name"}),Object(b.jsx)("th",{children:"Applicable For"})]})}),Object(b.jsx)("tbody",{children:e.Surveys.map((function(e,t){return Object(b.jsxs)("tr",{onClick:function(){return t=e.id,void n(t);var t},children:[Object(b.jsx)("td",{className:"pr-0",children:Object(b.jsx)("div",{className:"form-check-inline mr-0",children:Object(b.jsx)("label",{className:"form-check-label",children:Object(b.jsx)("input",{type:"radio",className:"form-check-input mr-0",name:"site_name",value:e.id,checked:a===e.id,onChange:function(){}})})})}),Object(b.jsx)("td",{children:e.text}),Object(b.jsx)("td",{children:e.dropdownVal&&e.dropdownVal.map((function(t,c){return Object(b.jsxs)("span",{children:[t.label," ",c!==e.dropdownVal.length-1?",":""]},t.label+c)}))})]},e.id)}))})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{onClick:function(){r.push("/survey-app/addNewSurvey")},className:"btn btn-primary btn-block",children:[" ",Object(b.jsx)("i",{className:"fas fa-plus"})," Add New"]}),Object(b.jsxs)("button",{onClick:function(){r.push("/survey-app/editSurvey/".concat(a))},className:"btn btn-warning btn-block",disabled:!a,children:[Object(b.jsx)("i",{className:"fas fa-pencil-alt"})," Edit"]}),Object(b.jsxs)("button",{onClick:function(){e.deleteSurveyHandler(a)},className:"btn btn-danger btn-block",disabled:!a,children:[Object(b.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]}),Object(b.jsx)("br",{})]})})})})})},u=c(34),h=function(e){var t=Object(j.f)(),c=Object(s.useState)(""),a=Object(d.a)(c,2),n=a[0],r=a[1],l=Object(s.useState)(""),i=Object(d.a)(l,2),o=i[0],h=i[1],O=Object(s.useState)([]),x=Object(d.a)(O,2),m=x[0],v=x[1],p=e.match.params.surveyId;Object(s.useEffect)((function(){if(p){var t=e.findUserHandler(p);t&&(h(t),r(t.text),v(t.dropdownVal))}}),[p,e]);return Object(b.jsx)("section",{id:"details",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h1",{children:p?"Edit Survey":"Add Survey"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{className:"new-survey",onSubmit:function(c){if(c.preventDefault(),p)e.onEditsurvey({id:o.id,text:n,dropdownVal:m});else{var s={id:Math.random().toString(),text:n,dropdownVal:m};r(""),e.onAddsurvey(s)}t.push("/survey-app")},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Template Name"}),Object(b.jsx)("input",{className:"form-control",type:"text",value:n,onChange:function(e){r(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Applicable For:"}),Object(b.jsx)(u.a,{options:e.MultiSelectValues,value:m,onChange:v,labelledBy:"Select"})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-3",children:Object(b.jsxs)("button",{className:"btn btn-light btn-block",onClick:function(){return t.push("/survey-app")},children:[" ",Object(b.jsx)("i",{className:"fas fa-arrow-left"})," Cancel"]})}),Object(b.jsx)("div",{className:"col-md-3",children:Object(b.jsx)("button",{className:"btn btn-success btn-block",type:"submit",disabled:!n&&m.length>0||0===m.length,children:"Save"})})]})})]})})]})})})})})},O=function(){return Object(b.jsx)("header",{id:"main-header",className:"py-2 bg-primary text-white",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-md-6",children:Object(b.jsxs)("h1",{children:[Object(b.jsx)("i",{className:"fas fa-cog"})," Surveys"]})})})})})},x=(c(47),c(32)),m=c.n(x),v=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!0),r=Object(d.a)(n,2),u=r[0],x=r[1],v=[{id:"ddl_1",label:"self-paced modules",value:"spm"},{id:"ddl_2",label:"classroom modules",value:"cm"},{id:"ddl_3",label:"journeys",value:"js"}];Object(s.useEffect)((function(){m.a.get("http://localhost:5000/surveys").then((function(e){console.log("response.data.surveys",e.data.surveys),e.data.surveys?(a(e.data.surveys),x(!1)):x(!1)})).catch((function(e){x(!1),console.log("error",e);a([{id:"cg1",text:"Training Feedback",dropdownVal:[{label:"self-paced modules",value:"spm"},{label:"classroom modules",value:"cm"}]},{id:"cg2",text:"External COntent Rating",dropdownVal:[{label:"classroom modules",value:"cm"}]},{id:"cg3",text:"HTrainer Effectiveness",dropdownVal:[{label:"journeys",value:"js"}]}])}))}),[]);var p=function(e){a((function(t){return t.concat(e)}))},f=function(e){return c.find((function(t){return t.id===e}))},N=function(e){var t=c.map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},e),{},{text:e.text,dropdownVal:e.dropdownVal}):t}));a(t)},y=function(e){var t=c.filter((function(t){return t.id!==e}));a(t)};return Object(b.jsxs)(b.Fragment,{children:[u&&Object(b.jsx)("p",{children:"Loading"}),!u&&Object(b.jsxs)("div",{className:"course-surveys",children:[Object(b.jsx)(O,{}),Object(b.jsx)(i.a,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/survey-app",render:function(e){return Object(b.jsx)(o,Object(l.a)({Surveys:c,deleteSurveyHandler:y},e))}}),Object(b.jsx)(j.a,{exact:!0,path:"/survey-app/addNewSurvey",render:function(e){return Object(b.jsx)(h,Object(l.a)({onAddsurvey:p,MultiSelectValues:v},e))}}),Object(b.jsx)(j.a,{exact:!0,path:"/survey-app/editSurvey/:surveyId",render:function(e){return Object(b.jsx)(h,Object(l.a)({onEditsurvey:N,findUserHandler:f,MultiSelectValues:v},e))}})]})})]})]})};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.710f8d5c.chunk.js.map